{% extends 'layout2.html' %} {% block content %}

<div class="layui-card-one">
  <!--用户访问路径追踪-->

  <div
    class="layui-breadcrumb"
    lay-filter="breadcrumb"
    style="visibility: visible"
  >
    <!--判断是否是最后一层路径，最后一层为不可选中-->

    <a style="text-decoration: none" href="/index2">首页</a
    ><span lay-separator="">/</span>

    <!--判断是否是最后一层路径，最后一层为不可选中-->

    <a style="text-decoration: none"><cite>用户列表</cite></a>
  </div>
</div>
<div class="right-t-body">
  <div class="layui-row">
    <div class="layui-card layui-col-md6" style="margin: 20px">
      <div class="layui-card-header">
        用户管理
        <div style="float: right">
          <!--因为rbac的urls有上级urls所以 ，反向生成url的方法如下-->
          <a class="layui-btn layui-btn-sm" href="/users/add">
            <!--反向生成url-->
            <i class="fa fa-plus-square" aria-hidden="true"></i> 添加角色
          </a>
        </div>
      </div>
      <div class="layui-card-body" style="padding: 0">
        <table class="layui-table" style="margin: 0">
          <thead>
            <tr style="background-color: #00968817">
              <th>ID</th>
              <th>用户名</th>
              <th>联系电话</th>
              <th>操作</th>
            </tr>
          </thead>
          <tbody>
            {% for row in users %}
            <tr>
              <td>{{ row.id }}</td>
              <td>{{ row.name }}</td>
              <td>{{ row.phonenum }}</td>
              <td>
                <a
                  href="/users/{{row.id}}/edit/"
                  class="layui-btn layui-btn-sm"
                  >编辑</a
                >
                <a
                  href="/users/delete/?nid={{row.id}}"
                  class="layui-btn layui-btn-sm layui-btn-danger"
                  >删除</a
                >
              </td>
            </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>

{% endblock %}
